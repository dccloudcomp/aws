{"filter":false,"title":"build.sh","tooltip":"/terraform/lambda_package/build.sh","undoManager":{"mark":4,"position":4,"stack":[[{"start":{"row":0,"column":0},"end":{"row":21,"column":0},"action":"insert","lines":["#!/usr/bin/env bash","set -euo pipefail","cd \"$(dirname \"$0\")\"","","rm -rf dist build python .venv","mkdir -p dist","","python3 -m venv .venv","source .venv/bin/activate","","pip install --upgrade pip","pip install -r requirements.txt","","# Empaquetar: dependencias + main.py","mkdir -p build/python","cp -r .venv/lib/python*/site-packages/* build/python/ || true","cp main.py build/","","cd build","zip -r ../dist/function.zip .","echo \"ZIP generado en dist/function.zip\"",""],"id":4}],[{"start":{"row":0,"column":0},"end":{"row":21,"column":0},"action":"remove","lines":["#!/usr/bin/env bash","set -euo pipefail","cd \"$(dirname \"$0\")\"","","rm -rf dist build python .venv","mkdir -p dist","","python3 -m venv .venv","source .venv/bin/activate","","pip install --upgrade pip","pip install -r requirements.txt","","# Empaquetar: dependencias + main.py","mkdir -p build/python","cp -r .venv/lib/python*/site-packages/* build/python/ || true","cp main.py build/","","cd build","zip -r ../dist/function.zip .","echo \"ZIP generado en dist/function.zip\"",""],"id":5},{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["#!/usr/bin/env bash","set -euo pipefail","cd \"$(dirname \"$0\")\"","","rm -rf dist build .venv","mkdir -p dist build/python","","python3 -m venv .venv","source .venv/bin/activate","pip install --upgrade pip","pip install -r requirements.txt","","# Copiar dependencias al paquete","cp -r .venv/lib/python*/site-packages/* build/python/ || true","# Añadir tu código","cp main.py build/","","cd build","zip -r ../dist/function.zip .","echo \"ZIP generado en dist/function.zip\"",""]}],[{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["#!/usr/bin/env bash","set -euo pipefail","cd \"$(dirname \"$0\")\"","","rm -rf dist build .venv","mkdir -p dist build/python","","python3 -m venv .venv","source .venv/bin/activate","pip install --upgrade pip","pip install -r requirements.txt","","# Copiar dependencias al paquete","cp -r .venv/lib/python*/site-packages/* build/python/ || true","# Añadir tu código","cp main.py build/","","cd build","zip -r ../dist/function.zip .","echo \"ZIP generado en dist/function.zip\"",""],"id":6},{"start":{"row":0,"column":0},"end":{"row":18,"column":0},"action":"insert","lines":["#!/usr/bin/env bash","set -euo pipefail","cd \"$(dirname \"$0\")\"","","rm -rf dist build .venv","mkdir -p dist build","","# Instala dependencias directamente en build/","python3 -m pip install --upgrade pip","python3 -m pip install --target build -r requirements.txt","","# Copia tu código","cp main.py build/","","# Empaqueta","cd build","zip -r ../dist/function.zip .","echo \"ZIP generado en dist/function.zip\"",""]}],[{"start":{"row":5,"column":19},"end":{"row":8,"column":11},"action":"remove","lines":["","","# Instala dependencias directamente en build/","python3 -m "],"id":7,"ignore":true},{"start":{"row":5,"column":19},"end":{"row":9,"column":0},"action":"insert","lines":["/python","","python3 -m venv .venv","source .venv/bin/activate",""]},{"start":{"row":10,"column":0},"end":{"row":10,"column":11},"action":"remove","lines":["python3 -m "]},{"start":{"row":10,"column":12},"end":{"row":10,"column":27},"action":"remove","lines":["--target build "]},{"start":{"row":12,"column":7},"end":{"row":14,"column":8},"action":"insert","lines":["r dependencias al paquete","cp -r .venv/lib/python*/site-packages/* build/python/ || true","# Añadir"]},{"start":{"row":17,"column":0},"end":{"row":18,"column":0},"action":"remove","lines":["# Empaqueta",""]}],[{"start":{"row":0,"column":0},"end":{"row":20,"column":0},"action":"remove","lines":["#!/usr/bin/env bash","set -euo pipefail","cd \"$(dirname \"$0\")\"","","rm -rf dist build .venv","mkdir -p dist build/python","","python3 -m venv .venv","source .venv/bin/activate","pip install --upgrade pip","pip install -r requirements.txt","","# Copiar dependencias al paquete","cp -r .venv/lib/python*/site-packages/* build/python/ || true","# Añadir tu código","cp main.py build/","","cd build","zip -r ../dist/function.zip .","echo \"ZIP generado en dist/function.zip\"",""],"id":8},{"start":{"row":0,"column":0},"end":{"row":21,"column":0},"action":"insert","lines":["#!/usr/bin/env bash","set -euo pipefail","cd \"$(dirname \"$0\")\"","","rm -rf dist build .venv","mkdir -p dist build","","python3 -m venv .venv","source .venv/bin/activate","pip install --upgrade pip","pip install -r requirements.txt","","# Copia dependencias a la RAÍZ del paquete (no a build/python)","cp -r .venv/lib/python*/site-packages/* build/","","# Añade tu código","cp main.py build/","","cd build","zip -r ../dist/function.zip .","echo \"ZIP generado en dist/function.zip\"",""]}]]},"ace":{"folds":[],"scrolltop":6.666666507720947,"scrollleft":0,"selection":{"start":{"row":21,"column":0},"end":{"row":21,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1754905405367,"hash":"332970c670a8a19f438bb3019d45dc27ff065076"}